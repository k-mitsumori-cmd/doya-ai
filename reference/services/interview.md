# ãƒ‰ãƒ¤ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼AI

## æ¦‚è¦
- **ãƒ‘ã‚¹**: `/interview`
- **ã‚µãƒ¼ãƒ“ã‚¹ID**: `interview`
- **èª¬æ˜**: éŸ³å£°/å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼è¨˜äº‹ã‚’AIç”Ÿæˆ
- **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: active (Phase 1-3 å®Œäº†)
- **ã‚«ãƒ†ã‚´ãƒª**: text

## æ©Ÿèƒ½

### Phase 1 (MVP)
- Supabase Storage å¤§å®¹é‡ãƒ•ã‚¡ã‚¤ãƒ«ç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (5GB+)
- ç½²åä»˜ãURLæ–¹å¼ (Vercelãƒœãƒ‡ã‚£ã‚µã‚¤ã‚ºåˆ¶é™ãƒã‚¤ãƒ‘ã‚¹)
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆCRUD + ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
- ç´ æã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ (upload-url â†’ confirm â†’ XHRç›´æ¥PUT)
- æ–‡å­—èµ·ã“ã— (AssemblyAI â€” URLæ¸¡ã—, ã‚µã‚¤ã‚ºç„¡åˆ¶é™, speaker diarization)
- ãƒ¬ã‚·ãƒ”ç®¡ç† + ãƒ—ãƒªã‚»ãƒƒãƒˆ10ç¨®è‡ªå‹•æŠ•å…¥
- AIè¨˜äº‹ç”Ÿæˆ (SSE ã‚¹ãƒˆãƒªãƒ¼ãƒŸãƒ³ã‚°)
- ã‚¨ãƒ‡ã‚£ã‚¿ (è‡ªå‹•ä¿å­˜, Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼)

### Phase 2 (æ ¡æ­£ãƒ»ã‚¿ã‚¤ãƒˆãƒ«)
- æ ¡æ­£ãƒ»æ ¡é–² (ã‚¹ã‚³ã‚¢ + ä¿®æ­£å€™è£œ)
- ã‚¿ã‚¤ãƒˆãƒ«ææ¡ˆ (5ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ å¯¾å¿œ)
- æ ¡æ­£ãƒ‘ãƒãƒ« (ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯é©ç”¨)
- ã‚¿ã‚¤ãƒˆãƒ«ææ¡ˆãƒ‘ãƒãƒ«
- ãƒ¬ã‚·ãƒ”ç®¡ç†ç”»é¢ (CRUD + è©³ç´°ãƒ‘ãƒãƒ«)
- è¨­å®šç”»é¢ (ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ, ãƒ—ãƒ©ãƒ³, åˆ©ç”¨çµ±è¨ˆ)

### Phase 3 (é«˜åº¦æ©Ÿèƒ½)
- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ãƒšãƒ¼ã‚¸ (é€²æ—ã‚¹ãƒ†ãƒƒãƒ‘ãƒ¼, çµ±è¨ˆ)
- ãƒ•ã‚¡ã‚¯ãƒˆãƒã‚§ãƒƒã‚¯ (ä¿¡é ¼æ€§ã‚¹ã‚³ã‚¢, æ¤œè¨¼é …ç›®)
- SNSæŠ•ç¨¿æ–‡ç”Ÿæˆ (6ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ , 3ãƒˆãƒ¼ãƒ³)
- ç¿»è¨³ (10è¨€èª, Markdownä¿æŒ, SEOä»˜)
- ãƒ¬ã‚·ãƒ”è‡ªå‹•ç”Ÿæˆ (ã‚µãƒ³ãƒ—ãƒ«è¨˜äº‹ã‹ã‚‰æ§‹æˆåˆ†æ)

## æ–™é‡‘

| ãƒ—ãƒ©ãƒ³ | æ–‡å­—èµ·ã“ã—åˆ†æ•° | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ä¸Šé™ | è¨˜äº‹ç”Ÿæˆå›æ•° | æœˆé¡ |
|--------|-------------|---------------|------------|------|
| ã‚²ã‚¹ãƒˆ | åˆè¨ˆ5åˆ† | 100MB | 2å›/æ—¥ | Â¥0 |
| ç„¡æ–™ä¼šå“¡ | æ¯æœˆ30åˆ† | 500MB | 5å›/æ—¥ | Â¥0 |
| PRO | æ¯æœˆ150åˆ† | 2GB | 30å›/æ—¥ | Â¥9,980 |
| Enterprise | æ¯æœˆ1,000åˆ† | 5GB | 100å›/æ—¥ | Â¥49,980 |

## APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ (18+)

### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| GET | `/api/interview/projects` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§ |
| POST | `/api/interview/projects` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ |
| GET | `/api/interview/projects/[id]` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè©³ç´° |
| PUT | `/api/interview/projects/[id]` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ›´æ–° |
| DELETE | `/api/interview/projects/[id]` | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå‰Šé™¤ |

### ç´ æç®¡ç†
| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| POST | `/api/interview/materials/upload-url` | ç½²åä»˜ãURLå–å¾— |
| POST | `/api/interview/materials/[id]/confirm` | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ç¢ºèª |
| DELETE | `/api/interview/materials/[id]` | ç´ æå‰Šé™¤ |
| POST | `/api/interview/materials/[id]/transcribe` | æ–‡å­—èµ·ã“ã—é–‹å§‹ |

### è¨˜äº‹ç”Ÿæˆãƒ»ç·¨é›†
| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| POST | `/api/interview/articles/generate` | AIè¨˜äº‹ç”Ÿæˆ (SSE) |
| GET | `/api/interview/articles/[id]` | è¨˜äº‹å–å¾— |
| PUT | `/api/interview/articles/[id]` | è¨˜äº‹ä¿å­˜ |
| POST | `/api/interview/revise` | è¨˜äº‹ãƒªãƒã‚¤ã‚º |

### é«˜åº¦æ©Ÿèƒ½
| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| POST | `/api/interview/articles/[id]/suggest-titles` | ã‚¿ã‚¤ãƒˆãƒ«ææ¡ˆ |
| POST | `/api/interview/articles/[id]/proofread` | æ ¡æ­£ãƒ»æ ¡é–² |
| POST | `/api/interview/articles/[id]/translate` | ç¿»è¨³ (10è¨€èª) |
| POST | `/api/interview/articles/[id]/sns-posts` | SNSæŠ•ç¨¿æ–‡ç”Ÿæˆ |
| POST | `/api/interview/articles/[id]/fact-check` | ãƒ•ã‚¡ã‚¯ãƒˆãƒã‚§ãƒƒã‚¯ |

### ãƒ¬ã‚·ãƒ”ç®¡ç†
| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| GET | `/api/interview/recipes` | ãƒ¬ã‚·ãƒ”ä¸€è¦§ |
| POST | `/api/interview/recipes` | ãƒ¬ã‚·ãƒ”ä½œæˆ |
| GET | `/api/interview/recipes/[id]` | ãƒ¬ã‚·ãƒ”è©³ç´° |
| PUT | `/api/interview/recipes/[id]` | ãƒ¬ã‚·ãƒ”æ›´æ–° |
| DELETE | `/api/interview/recipes/[id]` | ãƒ¬ã‚·ãƒ”å‰Šé™¤ |
| POST | `/api/interview/recipes/generate` | ãƒ¬ã‚·ãƒ”è‡ªå‹•ç”Ÿæˆ |

### ãã®ä»–
| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------|------|
| POST | `/api/interview/cleanup` | å¤ã„ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ |

## ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ•ãƒ­ãƒ¼

```
1. POST /api/interview/materials/upload-url
   â†’ Supabaseç½²åä»˜ãURL + materialId ã‚’è¿”å´

2. ãƒ–ãƒ©ã‚¦ã‚¶ â†’ PUT <signedUrl> (XHRç›´æ¥ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰)
   â†’ Vercelã®4.5MBãƒœãƒ‡ã‚£åˆ¶é™ã‚’ãƒã‚¤ãƒ‘ã‚¹

3. POST /api/interview/materials/[id]/confirm
   â†’ DBæ›´æ–° (status: UPLOADED)

4. POST /api/interview/materials/[id]/transcribe
   â†’ AssemblyAI ã«URLæ¸¡ã— â†’ ãƒãƒ¼ãƒªãƒ³ã‚°ã§å®Œäº†å¾…ã¡
   â†’ InterviewTranscription ã«ä¿å­˜
```

## æ–‡å­—èµ·ã“ã— (AssemblyAI)

- **æ–¹å¼**: URLæ¸¡ã— (ã‚µãƒ¼ãƒãƒ¼ã§ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¸è¦, ã‚µã‚¤ã‚ºç„¡åˆ¶é™)
- **ãƒ¢ãƒ‡ãƒ«**: `universal-2`
- **è©±è€…åˆ†é›¢**: `speaker_labels: true`
- **è¨€èª**: `ja` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)
- **ãƒãƒ¼ãƒªãƒ³ã‚°**: æŒ‡æ•°ãƒãƒƒã‚¯ã‚ªãƒ• 3ç§’â†’æœ€å¤§30ç§’, åˆè¨ˆæœ€å¤§10åˆ†

## DB ãƒ†ãƒ¼ãƒ–ãƒ«

ã™ã¹ã¦ `@@map("interview_xxx")` ã§ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ãã€‚

| ãƒ¢ãƒ‡ãƒ« | ãƒ†ãƒ¼ãƒ–ãƒ«å | èª¬æ˜ |
|--------|-----------|------|
| InterviewProject | interview_project | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (title, status, intervieweeæƒ…å ±) |
| InterviewRecipe | interview_recipe | ãƒ¬ã‚·ãƒ” (ä¼ç”»æ¡ˆ, è³ªå•ãƒªã‚¹ãƒˆ, AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ) |
| InterviewMaterial | interview_material | ç´ æ (éŸ³å£°/å‹•ç”»/PDF, Supabase Storage) |
| InterviewTranscription | interview_transcription | æ–‡å­—èµ·ã“ã— (text, segments, speaker) |
| InterviewDraft | - | ãƒ‰ãƒ©ãƒ•ãƒˆç‰ˆ |
| InterviewReview | - | æ ¡é–²çµæœ |

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ
```
src/app/interview/
  â”œâ”€â”€ layout.tsx                    # InterviewLayout
  â”œâ”€â”€ page.tsx                      # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§
  â”œâ”€â”€ projects/
  â”‚   â””â”€â”€ [id]/
  â”‚       â”œâ”€â”€ page.tsx              # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
  â”‚       â””â”€â”€ edit/page.tsx         # ã‚¨ãƒ‡ã‚£ã‚¿
  â””â”€â”€ templates/                    # ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ (æœªå®Œæˆ?)

src/app/api/interview/              # 18+ APIãƒ«ãƒ¼ãƒˆ
src/components/interview/
  â”œâ”€â”€ InterviewLayout.tsx           # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  â”œâ”€â”€ InterviewSidebar.tsx          # ã‚µã‚¤ãƒ‰ãƒãƒ¼
  â”œâ”€â”€ InterviewUpgradeCelebration.tsx
  â””â”€â”€ InterviewUpsellModal.tsx      # ã‚¢ãƒƒãƒ—ã‚»ãƒ«ãƒ¢ãƒ¼ãƒ€ãƒ«

src/lib/interview/
  â”œâ”€â”€ storage.ts                    # Supabase Storageæ“ä½œ
  â”œâ”€â”€ transcription.ts              # AssemblyAIé€£æº
  â”œâ”€â”€ access.ts                     # ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡
  â”œâ”€â”€ types.ts                      # å‹å®šç¾© (MaterialType, TranscriptionSegmentç­‰)
  â”œâ”€â”€ prompts.ts                    # AIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
  â””â”€â”€ recipes-seed.ts              # ãƒ—ãƒªã‚»ãƒƒãƒˆãƒ¬ã‚·ãƒ”10ç¨®
```

## å¯¾å¿œãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼

### éŸ³å£°
mp3, wav, m4a, ogg, webm, flac

### å‹•ç”»
mp4, mov, avi

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
pdf, txt, docx

### ç”»åƒ
jpg, jpeg, png, webp

## ãƒ‡ã‚¶ã‚¤ãƒ³
- **ã‚µã‚¤ãƒ‰ãƒãƒ¼**: `InterviewSidebar` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **ã‚«ãƒ©ãƒ¼**: purple (`#7f19e6`)
- **ã‚¢ã‚¤ã‚³ãƒ³**: `ğŸ™ï¸`
- **é€²æ—è¡¨ç¤º**: ã‚¹ãƒ†ãƒƒãƒ‘ãƒ¼ (DRAFT â†’ PLANNING â†’ RECORDING â†’ TRANSCRIBING â†’ EDITING â†’ REVIEWING â†’ COMPLETED)
